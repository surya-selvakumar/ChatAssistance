<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/Patient.css')Â }}" />
</head>

<body>
  <div class="chat-container">
    <div class="sidebar">
      <ul>
        <li class="list ">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
            <path
              d="M16 4C23.3334 4 29.3334 8.77333 29.3334 14.6667C29.3334 20.56 23.3334 25.3333 16 25.3333C14.3467 25.3333 12.76 25.0933 11.2934 24.6667C7.40002 28 2.66669 28 2.66669 28C5.77335 24.8933 6.26669 22.8 6.33335 22C4.06669 20.0933 2.66669 17.5067 2.66669 14.6667C2.66669 8.77333 8.66669 4 16 4Z"
              fill="white" />
          </svg>
          <a href="/chat">Chat</a>
        </li>
        <li class="list">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
            <path
              d="M16 3.33334C16.4972 3.33337 16.9765 3.51857 17.3445 3.85284C17.7126 4.1871 17.9429 4.64646 17.9906 5.14134L18 5.33334V26.6667C17.9997 27.1803 17.8019 27.6741 17.4474 28.0459C17.093 28.4176 16.6091 28.6387 16.0961 28.6634C15.5831 28.6881 15.0802 28.5144 14.6917 28.1784C14.3032 27.8425 14.0589 27.3699 14.0093 26.8587L14 26.6667V5.33334C14 4.80291 14.2107 4.2942 14.5858 3.91913C14.9608 3.54406 15.4695 3.33334 16 3.33334ZM10.6666 7.33334C11.1971 7.33334 11.7058 7.54406 12.0809 7.91913C12.4559 8.2942 12.6666 8.80291 12.6666 9.33334V22.6667C12.6666 23.1971 12.4559 23.7058 12.0809 24.0809C11.7058 24.456 11.1971 24.6667 10.6666 24.6667C10.1362 24.6667 9.62751 24.456 9.25243 24.0809C8.87736 23.7058 8.66665 23.1971 8.66665 22.6667V9.33334C8.66665 8.80291 8.87736 8.2942 9.25243 7.91913C9.62751 7.54406 10.1362 7.33334 10.6666 7.33334ZM21.3333 7.33334C21.8637 7.33334 22.3725 7.54406 22.7475 7.91913C23.1226 8.2942 23.3333 8.80291 23.3333 9.33334V22.6667C23.3333 23.1971 23.1226 23.7058 22.7475 24.0809C22.3725 24.456 21.8637 24.6667 21.3333 24.6667C20.8029 24.6667 20.2942 24.456 19.9191 24.0809C19.544 23.7058 19.3333 23.1971 19.3333 22.6667V9.33334C19.3333 8.80291 19.544 8.2942 19.9191 7.91913C20.2942 7.54406 20.8029 7.33334 21.3333 7.33334ZM5.33331 11.3333C5.86375 11.3333 6.37245 11.5441 6.74753 11.9191C7.1226 12.2942 7.33331 12.8029 7.33331 13.3333V18.6667C7.33331 19.1971 7.1226 19.7058 6.74753 20.0809C6.37245 20.456 5.86375 20.6667 5.33331 20.6667C4.80288 20.6667 4.29417 20.456 3.9191 20.0809C3.54403 19.7058 3.33331 19.1971 3.33331 18.6667V13.3333C3.33331 12.8029 3.54403 12.2942 3.9191 11.9191C4.29417 11.5441 4.80288 11.3333 5.33331 11.3333ZM26.6666 11.3333C27.1638 11.3334 27.6432 11.5186 28.0112 11.8528C28.3792 12.1871 28.6096 12.6465 28.6573 13.1413L28.6666 13.3333V18.6667C28.6664 19.1803 28.4685 19.6741 28.1141 20.0459C27.7597 20.4176 27.2758 20.6387 26.7628 20.6634C26.2497 20.6881 25.7469 20.5144 25.3584 20.1784C24.9699 19.8425 24.7255 19.3699 24.676 18.8587L24.6666 18.6667V13.3333C24.6666 12.8029 24.8774 12.2942 25.2524 11.9191C25.6275 11.5441 26.1362 11.3333 26.6666 11.3333Z"
              fill="white" />
          </svg>
          <a href="/voice">Voice</a>
        </li>
        <li class="list selected">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
            <path fill-rule="evenodd" clip-rule="evenodd"
              d="M9.60002 3.2C8.75133 3.2 7.9374 3.53714 7.33728 4.13726C6.73717 4.73737 6.40002 5.5513 6.40002 6.4V25.6C6.40002 26.4487 6.73717 27.2626 7.33728 27.8627C7.9374 28.4629 8.75133 28.8 9.60002 28.8H22.4C23.2487 28.8 24.0626 28.4629 24.6628 27.8627C25.2629 27.2626 25.6 26.4487 25.6 25.6V11.8624C25.5998 11.0138 25.2626 10.2 24.6624 9.6L19.2 4.1376C18.6 3.53744 17.7862 3.20018 16.9376 3.2H9.60002ZM12.8 19.2C12.8 18.7757 12.6315 18.3687 12.3314 18.0686C12.0313 17.7686 11.6244 17.6 11.2 17.6C10.7757 17.6 10.3687 17.7686 10.0687 18.0686C9.7686 18.3687 9.60002 18.7757 9.60002 19.2V24C9.60002 24.4243 9.7686 24.8313 10.0687 25.1314C10.3687 25.4314 10.7757 25.6 11.2 25.6C11.6244 25.6 12.0313 25.4314 12.3314 25.1314C12.6315 24.8313 12.8 24.4243 12.8 24V19.2ZM16 14.4C16.4244 14.4 16.8313 14.5686 17.1314 14.8686C17.4315 15.1687 17.6 15.5757 17.6 16V24C17.6 24.4243 17.4315 24.8313 17.1314 25.1314C16.8313 25.4314 16.4244 25.6 16 25.6C15.5757 25.6 15.1687 25.4314 14.8687 25.1314C14.5686 24.8313 14.4 24.4243 14.4 24V16C14.4 15.5757 14.5686 15.1687 14.8687 14.8686C15.1687 14.5686 15.5757 14.4 16 14.4ZM22.4 12.8C22.4 12.3757 22.2315 11.9687 21.9314 11.6686C21.6313 11.3686 21.2244 11.2 20.8 11.2C20.3757 11.2 19.9687 11.3686 19.6687 11.6686C19.3686 11.9687 19.2 12.3757 19.2 12.8V24C19.2 24.4243 19.3686 24.8313 19.6687 25.1314C19.9687 25.4314 20.3757 25.6 20.8 25.6C21.2244 25.6 21.6313 25.4314 21.9314 25.1314C22.2315 24.8313 22.4 24.4243 22.4 24V12.8Z"
              fill="white" />
          </svg>
          <a href="/patient">Records</a>
        </li>
        <li class="list">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
            <path
              d="M13.6 4.8C12.9635 4.8 12.353 5.05286 11.9029 5.50295C11.4528 5.95303 11.2 6.56348 11.2 7.2V11.2016H7.19999C6.56347 11.2016 5.95302 11.4545 5.50293 11.9045C5.05284 12.3546 4.79999 12.9651 4.79999 13.6016V18.4016C4.79999 19.0381 5.05284 19.6486 5.50293 20.0987C5.95302 20.5487 6.56347 20.8016 7.19999 20.8016H11.2V24.8016C11.2 25.4381 11.4528 26.0486 11.9029 26.4987C12.353 26.9487 12.9635 27.2016 13.6 27.2016H18.4C19.0365 27.2016 19.647 26.9487 20.097 26.4987C20.5471 26.0486 20.8 25.4381 20.8 24.8016V20.8016H24.8C25.4365 20.8016 26.047 20.5487 26.497 20.0987C26.9471 19.6486 27.2 19.0381 27.2 18.4016V13.6016C27.2 12.9651 26.9471 12.3546 26.497 11.9045C26.047 11.4545 25.4365 11.2016 24.8 11.2016H20.8V7.2C20.8 6.56348 20.5471 5.95303 20.097 5.50295C19.647 5.05286 19.0365 4.8 18.4 4.8H13.6Z"
              fill="white" />
          </svg>
          <a href="/doctor">Doctor</a>
        </li>
      </ul>
    </div>
    <div class="patient">
      <div class="main">
        <h2>Patient View</h2>
        <div class="biodata">
          <div>
            <span class="heading">Name</span>
            <span>:</span>
            <input id="nameInput" class="data" placeholder="John" />
          </div>
          <div>
            <span class="heading">Age</span>
            <span>:</span>
            <input id="ageInput" class="data" placeholder="13" />
          </div>
          <div>
            <span class="heading">Gender</span>
            <span>:</span>
            <input id="genderInput" class="data" placeholder="Male" />
          </div>
          <div>
            <span class="heading">Blood Group</span>
            <span>:</span>
            <input id="bloodGroupInput" class="data" placeholder="O+" />
          </div>
          <div>
            <span class="heading">Date of Birth</span>
            <span>:</span>
            <input id="dobInput" type="date" class="data" placeholder="O+" />
          </div>
          <div>
            <span class="heading">Phone</span>
            <span>:</span>
            <input id="phoneInput" type="tel" class="data" placeholder="123456789" />
          </div>
          <div>
            <span class="heading">Department</span>
            <span>:</span>
            <input id="departmentInput" class="data" placeholder="Cardiology" />
          </div>
          <div>
            <span class="heading">Date and Time</span>
            <span>:</span>
            <input id="dateTimeInput" type="datetime" class="data" placeholder="12/12/2022 - [2:00]" />
          </div>
          <div>
            <span class="heading">Consultant</span>
            <span>:</span>
            <input id="consultantInput" class="data" placeholder="Caty" />
          </div>
          <div class="btn">
            <button type="submit" id="saveButton">Save</button>
          </div>
        </div>
      </div>
    </div>

    
    <div id="modal-overlay"></div>
    <div class="modal" id="successModal">
      <div class="modal-content">
        <p class="modal-txt">{{msg}}</p>
        <a href="/chat" style="text-decoration: none"
          ><button class="modal-btn">Continue</button></a
        >
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Get references to input fields and the save button
        const nameInput = document.getElementById("nameInput");
        const ageInput = document.getElementById("ageInput");
        const genderInput = document.getElementById("genderInput");
        const bloodGroupInput = document.getElementById("bloodGroupInput");
        const dobInput = document.getElementById("dobInput");
        const phoneInput = document.getElementById("phoneInput");
        const departmentInput = document.getElementById("departmentInput");
        const dateTimeInput = document.getElementById("dateTimeInput");
        const consultantInput = document.getElementById("consultantInput");
        const saveButton = document.getElementById("saveButton");

        const patientForm = document.getElementById("patientForm");

        // Add a click event listener to the save button
        saveButton.addEventListener("click", function () {
          // Retrieve user input values
          const userData = {
            name: nameInput.value,
            age: ageInput.value,
            gender: genderInput.value,
            bloodGroup: bloodGroupInput.value,
            dateOfBirth: dobInput.value,
            phone: phoneInput.value,
            department: departmentInput.value,
            dateTime: dateTimeInput.value,
            consultant: consultantInput.value,
          };

          // Log the user data to the console
          console.log("User Data:", userData);

          // Send the user data to the /patient route using an HTTP POST request
          fetch("/patient", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify(userData),
          })
            .then((response) => response.json())
            .then((data) => {
              if (data.message) {
                  // Set the "msg" received from the server in the modal content
                  const modal = document.getElementById("successModal");
                  const modalText = modal.querySelector(".modal-txt");
                  modalText.textContent = data.message;

                  // Display the modal
                  modal.style.display = "block";
                  document.getElementById("modal-overlay").style.display =
                    "block";
                }
            })
            .catch((error) => {
              console.error("Error sending data:", error);
            });
        });
      });
    </script>
</body>

</html>